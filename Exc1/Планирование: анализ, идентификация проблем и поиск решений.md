# Выявление проблем текущей архитектуры
1) Онлайн-магазин связан с MES системой через CRM. Онлайн-магазин и CRM делят одну БД на двоих. CRM система выступает оркестратором в обработке заказа. Отслеживает в БД создание заказа в онлайн-магазине, и отправляет сообщение в MES через RabbitMQ
2) MES предоставляет API для внешних пользователей. Это проблема, так как размывает границы ответственности сервиса.
3) Реализуется только юнит тестирование. Нет интеграционных тестов
4) Нет систем мониторинга/логирования/трейсинга. Нет понимания где возникают критические ошибки
5) Отсутствует горизонтальное масштабирование элементов системы.

# Инициативы для решения проблем. Расположены
1) Разделить единую БД у CRM и Онлайн-магазина
2) Реализовать интеграцию сервисов через брокер-сообщений.
3) Разделить MES на два микросервиса. Сервис расчета стоимости изделий и систему управления производством.
4) Внедрить системы мониторинга, логирования и трейсинга.
5) Запустить приложения в контейнерах. Настройить CI/CD пайплайны с возможностью быстрого развертывания дополнительных инстансов приложений.

# Приоритизация инициатив

Этап 1. Первоочередной задачей является отказ от "узких мест" с непрозрачной логикой, в частности разбиение единой БД, разбиение функциональности MES системы и перезод на коммуникацию систем через брокер сообщений.

Этап 2. Далее требуется внедрить сквозной мониторинг работы систем. (Мониторинг, логирование, трейсинг). Внедрять мониторинг раньше первого этапа не имеет смысла, так как архитектура системы изменится и большинстов проблем решится сами. 

Этап 3. Далее оптимизация CI/CD процессов, и горизонтальное масштабировнаие БД и сервисов.

### 3 пункта на полгода.
1. Интеграция систем через брокер сообщений. Это позволит решить проблему с интеграцией через CRM систему
2. Разбивка MES на два микросервиса.
3. Отказ от единой БД у интернет-магазина и CRM 

Реализация этих инициатив позволит сформировать базу микросервисной архитекуры и упростит последующие действия по оптимизации системы. Также после этих действий будет возможно внежрить сквозной мониторинг, так как система быдет иметь понятную архитекуру и потоки взаимодействий между системами.