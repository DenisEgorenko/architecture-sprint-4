# Мотивация

Внедрение кеширования в систему имеет множество преимуществ, которые помогут решить текущие проблемы с производительностью и задержками в обработке заказов.

Кеширование должно решить несколько ключевых проблем:
- Во-первых, это позволит существенно ускорить доступ к данным, которые запрашиваются наиболее часто, такие как списки заказов и их статусы. 
- Во-вторых, уменьшится нагрузка на базы данных, так как многие запросы будут обслуживаться из кеша, что позволит ускорить обработку новых заказов и улучшить взаимодействие с пользователями API. 
- В-третьих, это может снизить вероятность возникновения ошибок, связанных с таймаутами или зависаниями системы в моменты пиковых нагрузок.

В рамках кеширования я предлагаю сосредоточиться на следующих элементах системы:

- Список заказов и их статусы: данные о заказах, отображаемые на главной странице CRM. 
- Часто запрашиваемые параметры для конструкторов 3D-моделей: данные, которые могут использоваться для проектирования новых украшений.

# Предлагаемое решение

Для кеширования я предлагаю внедрить серверное кеширование. Это решение будет более подходящим, так как позволит хранить данные на серверной стороне, обеспечивая доступ к ним для всех приложений, а также централизация кеша может быть управляемой и более безопасной. К тому же, серверное кеширование уменьшит нагрузку на клиентские устройства, что особенно важно для пользователей с ограниченными ресурсами.

В рамках серверного кеширования предлагаю использовать паттерн Cache-Aside. Этот паттерн подразумевает, что приложение сначала обращается к кешу для поиска данных, и если данных нет, тогда выполняется запрос к базе данных, после чего данные помещаются в кеш. Данный подход позволяет обеспечить актуальность данных, так как запрос к базе выполняется каждый раз, когда кеш пуст или устарел, минимизируя риски старых или некорректных данных. 


![d](/Exc5/diagram-2915796844476614712.png)

**Стратегия инвалидации кэша**

| Стратегия | Преимущества                                                                                               | Недостатки |
|----------|------------------------------------------------------------------------------------------------------------|----------|
| Временная инвалидация | Простота реализации. Позволяет автоматически очищать кеш через заданные промежутки времени.                | Может привести к устареванию данных, если обновления происходят часто. |
|Инвалидация по ключу | Обеспечивает актуальность данных при изменении конкретных записей. Позволяет точно управлять кешированием. | Требует учета всех ключей в приложении, может усложнить логику. | 
|Программная инвалидация | Гибкость в управлении кешем. Позволяет вызывать инвалидацию при каждом обновлении данных.                  | Необходимость внедрения логики обработки изменений в каждую операцию. |
| Инвалидация по времени с \(TTL\) | Позволяет автоматически очищать старые данные и освобождать память, избегая переполнения кеша.	            | Все равно может приводить к устареванию данных, особенно при высоких частотах обновлений.|

Я предлагаю использовать инвалидацию кеша по ключу. Эта стратегия подходит для системы управления заказами, так как позволяет эффективно обновлять кеш в ответ на конкретные изменения данных, не затрагивая не изменившиеся записи. Это минимизирует объем операций по выборке данных из базы, тем самым увеличивая производительность системы.